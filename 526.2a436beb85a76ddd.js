"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[526],{1526:(rt,T,o)=>{o.r(T),o.d(T,{StatisticsModule:()=>nt});var f=o(177),D=o(8742),_=o(7306),p=o(5779),l=o(5487),t=o(4438),B=o(7427),b=o(9998),C=o(8157);let A=(()=>{class i{constructor(e,s,a){this.service=e,this.cdRef=s,this.messageService=a}onSelect(e){}Search(e){let s=new l.xm8;s.dateFrom=e.DateFrom,s.dateTo=e.DateTo,s.doctorId=e.SelectedDoctor.doctorID,this.service.getAllDoctorStatisticsData(s).subscribe({next:a=>{this.handleChartData(a),this.cdRef.detectChanges()},error:a=>{}})}handleChartData(e){this.multiAxisData={labels:[],datasets:[]},this.multiAxisData.labels=[],this.multiAxisData.datasets=[],this.multiAxisData.labels=e.labels,e.dataSets?.forEach(s=>{this.multiAxisData.datasets.push({label:s.docTypeName,backgroundColor:this.ChangeBackGroundColorForBrnachesDetails(),yAxisID:"y",data:s.total,display:!1})})}ChangeBackGroundColorForBrnachesDetails(){let e="#";for(let s=0;s<3;s++)e+=("0"+Math.floor((1+Math.random())*Math.pow(16,2)/2).toString(16)).slice(-2);return e}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(t.gRc),t.rXU(p.bg))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-doctor-statistics"]],features:[t.Jv_([p.bg])],decls:11,vars:5,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","card-flush","shadow-sm"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"card-body","py-5"],[3,"onSearchSubmit","rangeDates","WithDoctorAutoComplete"],[1,"row"],["type","bar",3,"data","options"]],template:function(s,a){1&s&&(t.nrm(0,"p-toast",0),t.j41(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4," \u0632\u064a\u0627\u0631\u0627\u062a \u0637\u0628\u064a\u0628 "),t.k0s(),t.nrm(5,"div",4),t.k0s(),t.j41(6,"div",5)(7,"app-searchcriteria",6),t.bIt("onSearchSubmit",function(r){return a.Search(r)}),t.k0s(),t.nrm(8,"br"),t.j41(9,"div",7),t.nrm(10,"p-chart",8),t.k0s()()()),2&s&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(7),t.Y8G("rangeDates",a.rangeDates)("WithDoctorAutoComplete",!0),t.R7$(3),t.Y8G("data",a.multiAxisData)("options",a.multiAxisOptions))},dependencies:[B.h,b.y8,C.X]})}return i})();var R=o(7089),d=o(9949),m=o(9417),v=o(9664),F=o(9851),j=o(5769);function O(i,u){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",29),t.EFF(3),t.k0s()(),t.j41(4,"td",30),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"td",31),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td",32),t.bIt("click",function(){const a=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.RemoveItemFromListOfParams(a))}),t.j41(11,"span",33),t.EFF(12," \u062d\u0630\u0641 "),t.k0s()()()}if(2&i){const e=u.$implicit;t.R7$(3),t.SpI("",e.Text," "),t.R7$(2),t.JRh(t.i5U(6,3,e.DateFrom,"dd-MM-yyyy")),t.R7$(3),t.JRh(t.i5U(9,6,e.DateTo,"dd-MM-yyyy"))}}let I=(()=>{class i{constructor(e,s,a){this.service=e,this.cdRef=s,this.messageService=a,this.listOfParams=[],this.paramObject={Text:"",BranchID:0,DateTo:d._.Now(),DateFrom:d._.Now()},this.comparisonParam=[],this.branchs=R.hJ}ngOnInit(){}search(){if(this.selectedBranch<1)return void this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0641\u0631\u0639."});let e=new l.ZQX;e.data=[],this.listOfParams.forEach(s=>{let a=new l.Fiy;a.dateFrom=s.DateFrom,a.dateTo=s.DateTo,a.textLabel=s.Text,a.branchID=this.selectedBranch,e.data?.push(a)}),this.service.getAllCompareStatisticsByBranchCharts(e).subscribe({next:s=>{this.handleChartData(s),this.cdRef.detectChanges()},error:s=>{}})}handleChartData(e){this.multiAxisData={labels:[],datasets:[]},this.multiAxisData.labels=[],this.multiAxisData.datasets=[],this.multiAxisData.labels=e.labels,e.dataSets?.forEach(s=>{this.multiAxisData.datasets.push({label:s.docTypeName,backgroundColor:this.ChangeBackGroundColorForBrnachesDetails(),yAxisID:"y",data:s.total,display:!1})})}ChangeBackGroundColorForBrnachesDetails(){let e="#";for(let s=0;s<3;s++)e+=("0"+Math.floor((1+Math.random())*Math.pow(16,2)/2).toString(16)).slice(-2);return e}changeBranch(){}RemoveItemFromListOfParams(e){const s=this.listOfParams.indexOf(e);this.listOfParams.splice(s,1)}AddRange(){this.listOfParams.find(e=>e.Text==this.paramObject.Text)?this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u0645\u064a \u0628\u0646\u0641\u0633 \u0627\u0644\u0625\u0633\u0645"}):this.paramObject.Text.length<1?this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u0645\u064a \u0644\u0644\u0641\u062a\u0631\u0629 "}):this.listOfParams.push(JSON.parse(JSON.stringify(this.paramObject)))}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(t.gRc),t.rXU(p.bg))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-one-branch-compare-statistics"]],features:[t.Jv_([p.bg])],decls:47,vars:9,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","taj-font"],[1,"row","m-12"],[1,"field","col-md-4"],["translate","Shared.Branch",1,"h3"],["optionValue","id","styleClass","taj-font fc-primng","optionLabel","name",3,"onChange","ngModelChange","options","ngModel"],[1,"d-flex","flex-column","mb-8","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","mb-2"],[1,""],["type","text","placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0645\u0633\u0645\u064a \u0644\u0644\u0641\u062a\u0631\u0629",1,"form-control",3,"ngModelChange","ngModel"],[1,"field","col-md-2"],[1,"h3"],["inputId","basic","dateFormat","yy-mm-dd","styleClass"," taj-font fc-primng",3,"ngModelChange","ngModel"],[1,"field","col-md-3"],[1,"btn","btn-info","m-8",3,"click"],[1,"fa-solid","fa-add"],[1,"btn","btn-success","m-8",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"row"],[1,"col-md-12","m-12"],["id","kt_customer_details_invoices_1","role","tabpanel",1,"tab-pane","fade","active","show"],[1,"table-responsive"],["id","kt_customer_details_invoices_table_1",1,"table","align-middle","table-row-dashed","fs-6","fw-bolder","gs-0","gy-4","p-0","m-0"],[1,"border-bottom","border-gray-200","fs-7","text-uppercase","fw-bolder"],[1,"text-start","text-gray-400"],[1,"min-w-100px"],[1,"fs-6","fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],["type","bar",3,"data","options"],[1,"badge","badge-light-success"],[1,"text-info"],[1,"text-success"],[3,"click"],[1,"badge","badge-light-danger",2,"cursor","pointer"]],template:function(s,a){1&s&&(t.nrm(0,"p-toast",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"label",4),t.j41(5,"p-dropdown",5),t.bIt("onChange",function(){return a.changeBranch()}),t.mxI("ngModelChange",function(r){return t.DH7(a.selectedBranch,r)||(a.selectedBranch=r),r}),t.k0s()()(),t.j41(6,"div",2)(7,"div",3)(8,"div",6)(9,"label",7)(10,"span",8),t.EFF(11,"\u0627\u0644\u0645\u0633\u0645\u064a"),t.k0s()(),t.j41(12,"input",9),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.Text,r)||(a.paramObject.Text=r),r}),t.k0s()()(),t.j41(13,"div",10)(14,"label",11),t.EFF(15," \u0641\u062a\u0631\u0629 \u0645\u0646 "),t.k0s(),t.j41(16,"p-calendar",12),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateFrom,r)||(a.paramObject.DateFrom=r),r}),t.k0s()(),t.j41(17,"div",10)(18,"label",11),t.EFF(19," \u0641\u062a\u0631\u0629 \u0625\u0644\u064a "),t.k0s(),t.j41(20,"p-calendar",12),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateTo,r)||(a.paramObject.DateTo=r),r}),t.k0s()(),t.j41(21,"div",13)(22,"button",14),t.bIt("click",function(){return a.AddRange()}),t.nrm(23,"i",15),t.EFF(24," \u0625\u0636\u0627\u0641\u0629 \u0641\u062a\u0631\u0629 "),t.k0s(),t.j41(25,"button",16),t.bIt("click",function(){return a.search()}),t.nrm(26,"i",17),t.EFF(27," \u0628\u062d\u0640\u062b "),t.k0s()()(),t.j41(28,"div",18)(29,"div",19)(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr",24)(35,"th",25),t.EFF(36," \u0627\u0644\u0645\u0633\u0645\u064a"),t.k0s(),t.j41(37,"th",25),t.EFF(38," \u0645\u0646 "),t.k0s(),t.j41(39,"th",25),t.EFF(40,"\u0625\u0644\u064a "),t.k0s(),t.j41(41,"th",25),t.EFF(42,"\u0625\u062f\u0648\u0627\u062a "),t.k0s()()(),t.j41(43,"tbody",26),t.DNE(44,O,13,9,"tr",27),t.k0s()()()()()(),t.j41(45,"div",18),t.nrm(46,"p-chart",28),t.k0s()()),2&s&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(5),t.Y8G("options",a.branchs),t.R50("ngModel",a.selectedBranch),t.R7$(7),t.R50("ngModel",a.paramObject.Text),t.R7$(4),t.R50("ngModel",a.paramObject.DateFrom),t.R7$(4),t.R50("ngModel",a.paramObject.DateTo),t.R7$(24),t.Y8G("ngForOf",a.listOfParams),t.R7$(2),t.Y8G("data",a.multiAxisData)("options",a.multiAxisOptions))},dependencies:[f.Sq,m.me,m.BC,m.vS,v.Mm,b.y8,C.X,F.Vv,j.ms,f.vh]})}return i})();var c=o(9826),k=o(6924),E=o(8032),M=o.n(E),g=o(660),y=o(9501),S=o(3612);let w=(()=>{class i{constructor(e,s,a){this.service=e,this.ref=s,this.config=a,this.Cols=y.EE}ngOnInit(){this.model=l.Ojr.fromJS(this.config.data),this.service.getRecivedDetails(this.model).subscribe({next:e=>{this.data=e},error:e=>{}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(g.Pw),t.rXU(g.sb))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-total-recived"]],decls:1,vars:6,consts:[[3,"cols","rowsPageNumbers","data","chooseColomns","pagination","scrollable"]],template:function(s,a){1&s&&t.nrm(0,"app-shared-datatable",0),2&s&&t.Y8G("cols",a.Cols)("rowsPageNumbers",15)("data",a.data)("chooseColomns",!0)("pagination",!0)("scrollable",!1)},dependencies:[S.N],encapsulation:2})}return i})(),G=(()=>{class i{constructor(e,s,a){this.service=e,this.ref=s,this.config=a,this.Cols=y.m_}ngOnInit(){this.model=l.Ojr.fromJS(this.config.data),this.service.getPaymentsDetails(this.model).subscribe({next:e=>{this.data=e},error:e=>{}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(g.Pw),t.rXU(g.sb))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-total-payments"]],decls:1,vars:6,consts:[[3,"cols","rowsPageNumbers","data","chooseColomns","pagination","scrollable"]],template:function(s,a){1&s&&t.nrm(0,"app-shared-datatable",0),2&s&&t.Y8G("cols",a.Cols)("rowsPageNumbers",15)("data",a.data)("chooseColomns",!0)("pagination",!0)("scrollable",!1)},dependencies:[S.N]})}return i})(),N=(()=>{class i{constructor(e,s,a){this.service=e,this.ref=s,this.config=a,this.model=new l.Ojr,this.Cols=y.hc}ngOnInit(){this.model=l.Ojr.fromJS(this.config.data),this.service.getCashLaterDetails(this.model).subscribe({next:e=>{this.data=e},error:e=>{}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(g.Pw),t.rXU(g.sb))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-cash-later"]],decls:1,vars:6,consts:[[3,"cols","rowsPageNumbers","data","chooseColomns","pagination","scrollable"]],template:function(s,a){1&s&&t.nrm(0,"app-shared-datatable",0),2&s&&t.Y8G("cols",a.Cols)("rowsPageNumbers",15)("data",a.data)("chooseColomns",!0)("pagination",!0)("scrollable",!1)},dependencies:[S.N]})}return i})();function $(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",49),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.ShowTotalPaymentsComponent(a.branchId))}),t.j41(1,"span"),t.nrm(2,"i",50),t.EFF(3),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()}if(2&i){const e=t.XpG().$implicit;t.ZvI("StatisticsNumbersDetailsClass bg-light-",e.backgroundClass," "),t.R7$(2),t.ZvI("text-dark ",e.icon,""),t.R7$(),t.SpI(" ",e.text," "),t.R7$(2),t.SpI(" ",e.total," ")}}function X(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",49),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.ShowCashLaterComponent(a.branchId))}),t.j41(1,"span"),t.nrm(2,"i",50),t.EFF(3),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()}if(2&i){const e=t.XpG().$implicit;t.ZvI("StatisticsNumbersDetailsClass bg-light-",e.backgroundClass," "),t.R7$(2),t.ZvI("text-dark ",e.icon,""),t.R7$(),t.SpI(" ",e.text," "),t.R7$(2),t.SpI(" ",e.total," ")}}function P(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",49),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.ShowTotalRecivedComponent(a.branchId))}),t.j41(1,"span"),t.nrm(2,"i",50),t.EFF(3),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()}if(2&i){const e=t.XpG().$implicit;t.ZvI("StatisticsNumbersDetailsClass bg-light-",e.backgroundClass," "),t.R7$(2),t.ZvI("text-dark ",e.icon,""),t.R7$(),t.SpI(" ",e.text," "),t.R7$(2),t.SpI(" ",e.total," ")}}function V(i,u){if(1&i&&(t.j41(0,"div")(1,"span"),t.nrm(2,"i",50),t.EFF(3),t.k0s(),t.j41(4,"span",51),t.EFF(5),t.k0s()()),2&i){const e=t.XpG().$implicit;t.ZvI("StatisticsNumbersDetailsClass bg-light-",e.backgroundClass," "),t.R7$(2),t.ZvI("text-dark ",e.icon,""),t.R7$(),t.SpI(" ",e.text," "),t.R7$(2),t.SpI(" ",e.total," ")}}function U(i,u){if(1&i&&(t.j41(0,"div"),t.DNE(1,$,6,8,"div",47)(2,X,6,8,"div",47)(3,P,6,8,"div",47)(4,V,6,8,"div",48),t.k0s()),2&i){const e=u.$implicit;t.R7$(),t.Y8G("ngIf",8==e.type),t.R7$(),t.Y8G("ngIf",99==e.type),t.R7$(),t.Y8G("ngIf",19==e.type),t.R7$(),t.Y8G("ngIf",8!=e.type&&99!=e.type&&19!=e.type)}}function Y(i,u){if(1&i&&(t.j41(0,"div",43)(1,"div",44)(2,"span",45),t.EFF(3),t.k0s(),t.DNE(4,U,5,4,"div",46),t.k0s()()),2&i){const e=u.$implicit;t.R7$(3),t.SpI(" ",e.branchName," "),t.R7$(),t.Y8G("ngForOf",e.details)}}function J(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",35),t.nrm(1,"h4",52),t.j41(2,"button",53),t.bIt("click",function(){const a=t.eBV(e).$implicit;return t.Njj(a.dismiss("Cross click"))}),t.k0s()(),t.j41(3,"div",39)(4,"app-searchcriteria",54),t.bIt("onSearchSubmit",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.Search(a))}),t.k0s()(),t.j41(5,"div",40)(6,"button",55),t.bIt("click",function(){const a=t.eBV(e).$implicit;return t.Njj(a.close("Save click"))}),t.k0s()()}2&i&&(t.R7$(4),t.Y8G("WithBranch",!1))}function L(i,u){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"button",62),t.bIt("click",function(){const a=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.Delete(a))}),t.nrm(7,"i",63),t.k0s()()()}if(2&i){const e=u.$implicit,s=u.index;t.R7$(2),t.SpI("",s+1," "),t.R7$(2),t.JRh(e.dealName)}}function H(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",35),t.nrm(1,"h4",56),t.j41(2,"button",53),t.bIt("click",function(){const a=t.eBV(e).$implicit;return t.Njj(a.dismiss("Cross click"))}),t.k0s()(),t.j41(3,"div",39)(4,"div",4)(5,"div",57)(6,"label",58),t.EFF(7," \u0627\u0644\u062a\u0639\u0627\u0642\u062f "),t.k0s(),t.j41(8,"p-dropdown",59),t.mxI("ngModelChange",function(a){t.eBV(e);const n=t.XpG();return t.DH7(n.SelectedDeel,a)||(n.SelectedDeel=a),t.Njj(a)}),t.k0s()(),t.j41(9,"div",57)(10,"button",60),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.AddExcluededDeal())}),t.k0s()()(),t.j41(11,"table",61)(12,"thead")(13,"th"),t.EFF(14,"#"),t.k0s(),t.j41(15,"th"),t.EFF(16,"\u0625\u0633\u0645 \u0627\u0644\u062a\u0639\u0627\u0642\u062f"),t.k0s(),t.j41(17,"th"),t.EFF(18,"\u0623\u062f\u0648\u0627\u062a"),t.k0s()(),t.j41(19,"tbody"),t.DNE(20,L,8,2,"tr",46),t.k0s()()(),t.j41(21,"div",40)(22,"button",55),t.bIt("click",function(){const a=t.eBV(e).$implicit;return t.Njj(a.close("Save click"))}),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(8),t.Y8G("options",e.deels)("filter",!0),t.R50("ngModel",e.SelectedDeel),t.R7$(12),t.Y8G("ngForOf",e.data.dealsExcludedFromStatics)}}let K=(()=>{class i{ShowTotalPaymentsComponent(e){console.log(this.selectedDateRange),console.log(e),this.dialogService.open(G,{data:{DateFrom:this.selectedDateRange.dateFrom,DateTo:this.selectedDateRange.dateTo,BranchId:e},header:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062a",width:"90%",maximizable:!0,resizable:!0,draggable:!0})}ShowTotalRecivedComponent(e){this.dialogService.open(w,{data:{DateFrom:this.selectedDateRange.dateFrom,DateTo:this.selectedDateRange.dateTo,BranchId:e},header:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u062d\u0635\u064a\u0644",width:"90%",maximizable:!0,resizable:!0,draggable:!0})}ShowCashLaterComponent(e){console.log(this.selectedDateRange),this.dialogService.open(N,{data:{DateFrom:this.selectedDateRange.dateFrom,DateTo:this.selectedDateRange.dateTo,BranchId:e},header:"\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0645\u062f\u064a\u0648\u0646\u064a\u0627\u062a",width:"90%",maximizable:!0,resizable:!0,draggable:!0})}constructor(e,s,a,n,r){this.service=e,this.modalService=s,this.cdRef=a,this.messageService=n,this.dialogService=r,this.closeResult="",this.data=new l.i2M,this.showCustomersGridButtons=!1,this.searchTextForCustomers="\u0628\u062d\u062b \u0639\u0646 \u0645\u0631\u064a\u0636",this.searchTextForTests="\u0628\u062d\u062b \u0639\u0646 \u062a\u062d\u0644\u064a\u0644",this.classForSecondButtonForCustomers="info",this.contentSecondtBtnForCustomers="\u062a\u0641\u0627\u0635\u064a\u0644",this.scrollHeightForCustomers="500px",this.randomLightColor="",this.line="",this.selectionModemultiple="multiple",this.readonlyInputDateRange=!0,this.currentTab="",this.customersCols=[c.a.fromJS({id:1,filtered:!0,hidden:!1,field:"name",header:"\u0625\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636",type:"text"}),c.a.fromJS({id:2,filtered:!0,hidden:!1,field:"counts",header:"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"})],this.testsCols=[c.a.fromJS({filtered:!0,hidden:!1,field:"testcap",header:"\u0625\u0633\u0645 \u0627\u0644\u062a\u062d\u0644\u064a\u0644",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"counts",header:"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"})],this.doctorsCols=[c.a.fromJS({id:1,sorted:!0,hidden:!1,filtered:!0,field:"doctorName",header:"\u0625\u0633\u0645 \u0627\u0644\u0637\u0628\u064a\u0628",type:"text"}),c.a.fromJS({id:2,sorted:!1,hidden:!1,filtered:!0,field:"totalAfterDiscount",header:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645",type:"text"}),c.a.fromJS({id:3,sorted:!1,hidden:!1,filtered:!0,field:"totalDiscount",header:"\u0623\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062e\u0635\u0645",type:"text"}),c.a.fromJS({id:4,sorted:!1,hidden:!1,filtered:!0,field:"totalLater",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062a\u0628\u0642\u064a",type:"text"}),c.a.fromJS({id:5,sorted:!1,hidden:!1,filtered:!0,field:"totalPaied",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u0641\u0648\u0639",type:"text"}),c.a.fromJS({id:6,sorted:!1,hidden:!1,filtered:!0,field:"totalValue",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"}),c.a.fromJS({id:7,sorted:!1,hidden:!1,filtered:!0,field:"counts",header:"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"})],this.deelsCols=[c.a.fromJS({filtered:!0,hidden:!1,field:"deelName",header:"\u0625\u0633\u0645 \u0627\u0644\u062a\u0639\u0627\u0642\u062f",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"totalAfterDiscount",header:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0628\u0639\u062f \u0627\u0644\u062e\u0635\u0645",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"totalDiscount",header:"\u0623\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062e\u0635\u0645",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"totalLater",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062a\u0628\u0642\u064a",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"totalPaied",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u0641\u0648\u0639",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"totalValue",header:"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"}),c.a.fromJS({filtered:!0,hidden:!1,field:"counts",header:"\u0639\u062f\u062f \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a",type:"text"})]}ngAfterViewInit(){this.ChangeBackGroundColorForBrnachesDetails()}getDismissReason(e){return e===k.PQ.ESC?"by pressing ESC":e===k.PQ.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}ngOnInit(){this.GetData("Today")}ChangeBackGroundColorForBrnachesDetails(){this.cdRef.detectChanges();let e="#";for(let s=0;s<3;s++)e+=("0"+Math.floor((1+Math.random())*Math.pow(16,2)/2).toString(16)).slice(-2);this.line=`linear-gradient(${e}, #ffff0000)`}GetData(e,s={}){this.currentTab=e;let a=new l.ado;switch(e){case"Yesterday":a.dateFrom=d._.DateFrom(d._.AddDays(-1)),a.dateTo=d._.DateTo(d._.Now());break;case"Today":a.dateFrom=d._.DateFrom(new Date),a.dateTo=d._.DateTo(new Date);break;case"Week":a.dateFrom=d._.DateFrom(d._.AddDays(-7)),a.dateTo=d._.DateTo(new Date);break;case"Month":a.dateFrom=d._.DateFrom(d._.AddDays(-30)),a.dateTo=d._.DateTo(new Date);break;case"Period":return void this.modalService.open(s,{ariaLabelledBy:"modal-basic-title",size:"xl"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`});case"Settings":return this.loadDeals(),void this.modalService.open(s,{ariaLabelledBy:"modal-basic-title",size:"xl"}).result.then(n=>{this.closeResult=`Closed with: ${n}`},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}this.GetAllData(a)}GetAllData(e){this.selectedDateRange=e,this.service.getAllData(e).subscribe({next:s=>{this.data=s,this.ChangeBackGroundColorForBrnachesDetails()},error:s=>{}})}addItem(e){M().fire(`Hello world! . ${e}`)}openCustomerDetails(e){}cloudItem(e){this.messageService.add({severity:"success",summary:"\u062a\u0645 \u0628\u062d\u0645\u062f \u0627\u0644\u0644\u0647 ",detail:"\u0627\u0644 \u062a\u0648\u0633\u062a\u0631 \u0627\u0644\u0639\u0645\u064a\u0642 \u062a\u0645 \u0628\u062d\u0645\u062f \u0627\u0644\u0644\u0647"})}generateLightColorHex(){return this.line}Search(e){let s=new l.ado;s.dateFrom=e.DateFrom,s.dateTo=e.DateTo,this.GetAllData(s),this.modalService.dismissAll()}Delete(e){this.service.removeExcludedDealFromStatisticTask(e.dealId).subscribe(s=>{const a=this.data.dealsExcludedFromStatics.indexOf(e);this.data.dealsExcludedFromStatics?.splice(a,1)})}AddExcluededDeal(){this.service.excludedDealFromStatisticTask(this.SelectedDeel.id).subscribe(e=>{this.data.dealsExcludedFromStatics.push();let s=new l.VRf;s.dealId=this.SelectedDeel.id,s.dealName=this.SelectedDeel.name,this.data.dealsExcludedFromStatics?.push(s)})}loadDeals(){this.service.getAllForDropDownDeel().subscribe({next:e=>{this.deels=e,this.SelectedDeel=new l.Wrm,this.cdRef.detectChanges()}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(k.Bq),t.rXU(t.gRc),t.rXU(p.bg),t.rXU(g.o3))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-Statistics"]],features:[t.Jv_([p.bg,g.o3])],decls:93,vars:20,consts:[["content",""],["SettingContent",""],["position","top-left",3,"showTransformOptions"],[1,"container"],[1,"row"],[1,"col-xxl-12"],[1,"card","card-xxl-stretch","mb-5","mb-xl-10"],[1,"card-header","card-header-stretch"],[1,"card-title"],[1,"m-0","text-gray-900","d-none","d-sm-none","d-md-block"],[1,"card-toolbar"],["id","kt_security_summary_tabs",1,"nav","nav-tabs","nav-line-tabs","nav-stretch","border-transparent","fs-5","fw-bolder"],[1,"nav-item"],["data-kt-countup-tabs","true","data-bs-toggle","tab","id","kt_security_summary_tab_pane_period","data-bs-toggle","modal","data-bs-target","#kt_modal_2",1,"nav-link","text-active-primary","StatisticsTabTextClass",3,"click"],["data-kt-countup-tabs","true","data-bs-toggle","tab","id","kt_security_summary_tab_yesterday",1,"nav-link","text-active-primary","StatisticsTabTextClass",3,"click","ngClass"],["data-kt-countup-tabs","true","data-bs-toggle","tab","id","kt_security_summary_tab_today",1,"nav-link","text-active-primary","StatisticsTabTextClass",3,"click","ngClass"],["data-kt-countup-tabs","true","data-bs-toggle","tab","id","kt_security_summary_tab_pane_week",1,"nav-link","text-active-primary","StatisticsTabTextClass",3,"click","ngClass"],["data-kt-countup-tabs","true","data-bs-toggle","tab","id","kt_security_summary_pane_month",1,"nav-link","text-active-primary","StatisticsTabTextClass",3,"click","ngClass"],[1,"card-body","pt-7","pb-0","px-0"],[1,""],[1,"row",2,"margin","0 auto"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"card","shadow-sm"],[1,"card-header"],["type","button","routerLink","/Statistics/DoctorStatistics",1,"btn","btn-sm","btn-light"],[1,"card-body"],[3,"plusButtonEvent","cloudButtonEvent","cols","data"],[1,"row","my-5"],["type","button","routerLink","/Reports/DeelReport",1,"btn","btn-sm","btn-light"],[1,"col-xxl-6"],[3,"cols","data"],[3,"cols","data","showPlustCloudeButtons","smallPagination","scrollable","searchText","selectionModeValue","scrollHeight"],["tabindex","-1","id","kt_modal_2","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-sm"],[1,"modal-content","shadow-none"],[1,"modal-header"],[1,"modal-title"],["data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-icon","btn-sm","btn-active-light-primary","ms-2"],[1,"bi","bi-x-lg","text-dark"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light"],[1,"col-md-3"],[2,"border","1px solid #fbe6e6","padding","9px","border-radius","10px","background-image","linear-gradient(rgb(255 211 182), rgba(255, 255, 0, 0))"],[2,"display","flex","justify-content","center"],[4,"ngFor","ngForOf"],["style","cursor: pointer;",3,"class","click",4,"ngIf"],[3,"class",4,"ngIf"],[2,"cursor","pointer",3,"click"],[2,"padding","0 4px"],[2,"padding","5px","font-weight","700"],["id","modal-basic-title","translate","Statistics.PleaseChooseDataRange",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"onSearchSubmit","WithBranch"],["type","button","translate","Shared.Close",1,"btn","btn-outline-dark",3,"click"],["id","modal-basic-title","translate","Statistics.ChooseExecludedDealsFromStatistics",1,"modal-title"],[1,"col-md-4"],["for","range",1,"h3"],["styleClass"," taj-font fc-primng","filterBy","name","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f","optionLabel","name",3,"ngModelChange","options","filter","ngModel"],["translate","Shared.Add",1,"btn","btn-success","mt-6",3,"click"],[1,"table","table-sm","table-bordered"],[1,"btn","btn-icon","btn-danger","btn-circle","btn-sm","mr-2",3,"click"],[1,"pi","pi-trash","text-white"]],template:function(s,a){if(1&s){const n=t.RV6();t.nrm(0,"p-toast",2),t.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"h3",9),t.EFF(8,"\u0627\u062d\u0635\u0627\u0626\u064a\u0627\u062a"),t.k0s()(),t.j41(9,"div",10)(10,"ul",11)(11,"li",12)(12,"a",13),t.bIt("click",function(){t.eBV(n);const h=t.sdS(92);return t.Njj(a.GetData("Settings",h))}),t.EFF(13,"\u0625\u0639\u062f\u0627\u062f\u0627\u062a"),t.k0s()(),t.j41(14,"li",12)(15,"a",14),t.bIt("click",function(){return t.eBV(n),t.Njj(a.GetData("Yesterday"))}),t.EFF(16,"\u0623\u0645\u0633"),t.k0s()(),t.j41(17,"li",12)(18,"a",15),t.bIt("click",function(){return t.eBV(n),t.Njj(a.GetData("Today"))}),t.EFF(19,"\u0627\u0644\u064a\u0648\u0645"),t.k0s()(),t.j41(20,"li",12)(21,"a",16),t.bIt("click",function(){return t.eBV(n),t.Njj(a.GetData("Week"))}),t.EFF(22,"\u0627\u0633\u0628\u0648\u0639"),t.k0s()(),t.j41(23,"li",12)(24,"a",17),t.bIt("click",function(){return t.eBV(n),t.Njj(a.GetData("Month"))}),t.EFF(25,"\u0634\u0647\u0631"),t.k0s()(),t.j41(26,"li",12)(27,"a",13),t.bIt("click",function(){t.eBV(n);const h=t.sdS(90);return t.Njj(a.GetData("Period",h))}),t.EFF(28,"\u0641\u062a\u0631\u0629"),t.k0s()()()()(),t.j41(29,"div",18)(30,"div",19)(31,"div",19)(32,"div",20),t.DNE(33,Y,5,2,"div",21),t.k0s()()()()()()()(),t.j41(34,"div",3)(35,"div",4)(36,"div",5)(37,"div",22)(38,"div",23)(39,"h3",8),t.EFF(40," \u0627\u0644\u0623\u0637\u0628\u0627\u0621 "),t.k0s(),t.j41(41,"div",10)(42,"button",24),t.EFF(43," \u0627\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0623\u0637\u0628\u0627\u0621 "),t.k0s()()(),t.j41(44,"div",25)(45,"app-shared-datatable",26),t.bIt("plusButtonEvent",function(h){return t.eBV(n),t.Njj(a.addItem(h))})("cloudButtonEvent",function(h){return t.eBV(n),t.Njj(a.cloudItem(h))}),t.k0s()()()()()(),t.j41(46,"div",3)(47,"div",27)(48,"div",5)(49,"div",22)(50,"div",23)(51,"h3",8),t.EFF(52,"\u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a"),t.k0s(),t.j41(53,"div",10)(54,"button",28),t.EFF(55," \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a "),t.k0s()()(),t.j41(56,"div",25)(57,"app-shared-datatable",26),t.bIt("plusButtonEvent",function(h){return t.eBV(n),t.Njj(a.addItem(h))})("cloudButtonEvent",function(h){return t.eBV(n),t.Njj(a.cloudItem(h))}),t.k0s()()()()()(),t.j41(58,"div",3)(59,"div",27)(60,"div",29)(61,"div",22)(62,"div",23)(63,"h3",8),t.EFF(64," \u0627\u0639\u0644\u064a \u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 "),t.k0s()(),t.j41(65,"div",25),t.nrm(66,"app-shared-datatable",30),t.k0s()()(),t.j41(67,"div",29)(68,"div",22)(69,"div",23)(70,"h3",8),t.EFF(71,"\u0623\u0639\u0644\u064a \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0641\u064a \u0627\u0644\u0641\u062a\u0631\u0629 "),t.k0s()(),t.j41(72,"div",25),t.nrm(73,"app-shared-datatable",31),t.k0s()()()()(),t.j41(74,"div",32)(75,"div",33)(76,"div",34)(77,"div",35)(78,"h5",36),t.EFF(79,"\u0628\u062d\u062b \u0639\u0646 \u0641\u062a\u0631\u0629 "),t.k0s(),t.j41(80,"div",37),t.nrm(81,"span",38),t.k0s()(),t.j41(82,"div",39),t.nrm(83,"div",4),t.k0s(),t.j41(84,"div",40)(85,"button",41),t.EFF(86,"\u062d\u0641\u0638 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a"),t.k0s(),t.j41(87,"button",42),t.EFF(88,"\u0625\u063a\u0644\u0627\u0642"),t.k0s()()()()(),t.DNE(89,J,7,1,"ng-template",null,0,t.C5r)(91,H,23,4,"ng-template",null,1,t.C5r)}2&s&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(15),t.Y8G("ngClass","Yesterday"==a.currentTab?"active":""),t.R7$(3),t.Y8G("ngClass","Today"==a.currentTab?"active":""),t.R7$(3),t.Y8G("ngClass","Week"==a.currentTab?"active":""),t.R7$(3),t.Y8G("ngClass","Month"==a.currentTab?"active":""),t.R7$(9),t.Y8G("ngForOf",a.data.dashboardNumbers),t.R7$(12),t.Y8G("cols",a.doctorsCols)("data",a.data.doctors),t.R7$(12),t.Y8G("cols",a.deelsCols)("data",a.data.deels),t.R7$(9),t.Y8G("cols",a.customersCols)("data",a.data.customers),t.R7$(7),t.Y8G("cols",a.testsCols)("data",a.data.tests)("showPlustCloudeButtons",a.showCustomersGridButtons)("smallPagination",a.showCustomersGridButtons)("scrollable",!0)("searchText",a.searchTextForTests)("selectionModeValue",a.selectionModemultiple)("scrollHeight",a.scrollHeightForCustomers))},dependencies:[f.YU,f.Sq,f.bT,D.Wk,S.N,B.h,m.BC,m.vS,v.Mm,b.y8,j.ms],styles:[".StatisticsNumbersDetailsClass[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:2px;border-radius:8px;padding:10px;margin:3px;transition:transform .2s}.StatisticsNumbersDetailsClass[_ngcontent-%COMP%]:hover{transform:scale(1.2);font-weight:900;border:1px solid #120349}.StatisticsTabTextClass[_ngcontent-%COMP%]{transition:transform .2s;cursor:pointer}.StatisticsTabTextClass[_ngcontent-%COMP%]:hover{transform:scale(1.1);font-weight:900}"]})}return i})();function W(i,u){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",26),t.EFF(3),t.k0s()(),t.j41(4,"td",27),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"td",28),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td",29),t.bIt("click",function(){const a=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.RemoveItemFromListOfParams(a))}),t.j41(11,"span",30),t.EFF(12," \u062d\u0630\u0641 "),t.k0s()()()}if(2&i){const e=u.$implicit;t.R7$(3),t.SpI("",e.Text," "),t.R7$(2),t.JRh(t.i5U(6,3,e.DateFrom,"dd-MM-yyyy")),t.R7$(3),t.JRh(t.i5U(9,6,e.DateTo,"dd-MM-yyyy"))}}let Z=(()=>{class i{constructor(e,s,a){this.service=e,this.cdRef=s,this.messageService=a,this.paramObject={Text:"",DateTo:d._.Now(),DateFrom:d._.Now()},this.listOfParams=[],this.comparisonParam=[]}ngOnInit(){}search(){if(this.listOfParams.length<1)return void this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u062e\u062a\u064a\u0627\u0631 \u0641\u062a\u0631\u0629 \u0639\u0644\u064a \u0627\u0644\u0623\u0642\u0644."});let e=new l.cub;e.data=[],this.listOfParams.forEach(s=>{let a=new l.K88;a.dateFrom=s.DateFrom,a.dateTo=s.DateTo,a.textLabel=s.Text,e.data?.push(a)}),this.service.getAllCompareStatisticsData(e).subscribe({next:s=>{this.handleChartData(s),this.cdRef.detectChanges()},error:s=>{}})}handleChartData(e){this.multiAxisData={labels:[],datasets:[]},this.multiAxisData.labels=[],this.multiAxisData.datasets=[],this.multiAxisData.labels=e.labels,e.dataSets?.forEach(s=>{this.multiAxisData.datasets.push({label:s.docTypeName,backgroundColor:this.ChangeBackGroundColorForBrnachesDetails(),yAxisID:"y",data:s.total,display:!1})})}ChangeBackGroundColorForBrnachesDetails(){let e="#";for(let s=0;s<3;s++)e+=("0"+Math.floor((1+Math.random())*Math.pow(16,2)/2).toString(16)).slice(-2);return e}AddRange(){this.listOfParams.find(e=>e.Text==this.paramObject.Text)?this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u0645\u064a \u0628\u0646\u0641\u0633 \u0627\u0644\u0625\u0633\u0645"}):this.paramObject.Text.length<1?this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u064a\u062c\u0628 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u0645\u064a \u0644\u0644\u0641\u062a\u0631\u0629 "}):this.listOfParams.push(JSON.parse(JSON.stringify(this.paramObject)))}RemoveItemFromListOfParams(e){const s=this.listOfParams.indexOf(e);this.listOfParams.splice(s,1)}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(t.gRc),t.rXU(p.bg))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-compare-Statistics"]],features:[t.Jv_([p.bg])],decls:49,vars:7,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","taj-font"],[1,"row","m-12"],[1,"col-md-9"],[1,"row"],[1,"col-md-4"],[1,"d-flex","flex-column","mb-8","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","mb-2"],[1,""],["type","text","placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0645\u0633\u0645\u064a \u0644\u0644\u0641\u062a\u0631\u0629",1,"form-control",3,"ngModelChange","ngModel"],["inputId","basic","dateFormat","yy-mm-dd","styleClass"," taj-font fc-primng",3,"ngModelChange","ngModel"],[1,"col-md-3"],[1,"btn","btn-info","m-8",3,"click"],[1,"fa-solid","fa-add"],[1,"btn","btn-success","m-8",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"col-md-12","m-12"],["id","kt_customer_details_invoices_1","role","tabpanel",1,"tab-pane","fade","active","show"],[1,"table-responsive"],["id","kt_customer_details_invoices_table_1",1,"table","align-middle","table-row-dashed","fs-6","fw-bolder","gs-0","gy-4","p-0","m-0"],[1,"border-bottom","border-gray-200","fs-7","text-uppercase","fw-bolder"],[1,"text-start","text-gray-400"],[1,"min-w-100px"],[1,"fs-6","fw-bold","text-gray-600"],[4,"ngFor","ngForOf"],["type","bar",3,"data","options"],[1,"badge","badge-light-success"],[1,"text-info"],[1,"text-success"],[3,"click"],[1,"badge","badge-light-danger",2,"cursor","pointer"]],template:function(s,a){1&s&&(t.nrm(0,"p-toast",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7)(8,"span",8),t.EFF(9,"\u0627\u0644\u0645\u0633\u0645\u064a"),t.k0s()(),t.j41(10,"input",9),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.Text,r)||(a.paramObject.Text=r),r}),t.k0s()()(),t.j41(11,"div",5)(12,"div",6)(13,"label",7)(14,"span",8),t.EFF(15,"\u0641\u062a\u0631\u0629 \u0645\u0646"),t.k0s()(),t.j41(16,"p-calendar",10),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateFrom,r)||(a.paramObject.DateFrom=r),r}),t.k0s()()(),t.j41(17,"div",5)(18,"div",6)(19,"label",7)(20,"span",8),t.EFF(21,"\u0641\u062a\u0631\u0629 \u0625\u0644\u064a"),t.k0s()(),t.j41(22,"p-calendar",10),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateTo,r)||(a.paramObject.DateTo=r),r}),t.k0s()()()()(),t.j41(23,"div",11)(24,"button",12),t.bIt("click",function(){return a.AddRange()}),t.nrm(25,"i",13),t.EFF(26," \u0625\u0636\u0627\u0641\u0629 \u0641\u062a\u0631\u0629 "),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return a.search()}),t.nrm(28,"i",15),t.EFF(29," \u0628\u062d\u0640\u062b "),t.k0s()()(),t.j41(30,"div",4)(31,"div",16)(32,"div",17)(33,"div",18)(34,"table",19)(35,"thead",20)(36,"tr",21)(37,"th",22),t.EFF(38," \u0627\u0644\u0645\u0633\u0645\u064a"),t.k0s(),t.j41(39,"th",22),t.EFF(40," \u0645\u0646 "),t.k0s(),t.j41(41,"th",22),t.EFF(42,"\u0625\u0644\u064a "),t.k0s(),t.j41(43,"th",22),t.EFF(44,"\u0625\u062f\u0648\u0627\u062a "),t.k0s()()(),t.j41(45,"tbody",23),t.DNE(46,W,13,9,"tr",24),t.k0s()()()()()(),t.j41(47,"div",4),t.nrm(48,"p-chart",25),t.k0s()()),2&s&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(10),t.R50("ngModel",a.paramObject.Text),t.R7$(6),t.R50("ngModel",a.paramObject.DateFrom),t.R7$(6),t.R50("ngModel",a.paramObject.DateTo),t.R7$(24),t.Y8G("ngForOf",a.listOfParams),t.R7$(2),t.Y8G("data",a.multiAxisData)("options",a.multiAxisOptions))},dependencies:[f.Sq,m.me,m.BC,m.vS,b.y8,C.X,F.Vv,f.vh]})}return i})();var x=o(6296);const Q=[{path:"",redirectTo:"MainStatistics",pathMatch:"full"},{path:"MainStatistics",canActivate:[_._],component:K,data:{animation:"MainStatistics"}},{path:"CompareStatistics",canActivate:[_._],component:Z,data:{animation:"CompareStatistics"}},{path:"OneBranchCompareStatistics",canActivate:[_._],component:I,data:{animation:"OneBranchCompareStatistics"}},{path:"BranchCompareStatistics",canActivate:[_._],component:(()=>{class i{constructor(e,s,a){this.service=e,this.cdRef=s,this.messageService=a,this.selectedBranchs=[],this.paramObject={Text:"",BranchID:0,DateTo:d._.Now(),DateFrom:d._.Now()},this.comparisonParam=[],this.branchs=R.hJ}ngOnInit(){}search(){if(this.selectedBranchs.length<1)return void this.messageService.add({severity:"error",summary:"\u062d\u062f\u062b \u062e\u0637\u0623",detail:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u062e\u062a\u064a\u0627\u0631 \u0641\u0631\u0639 \u0648\u0627\u062d\u062f \u0639\u0644\u064a \u0627\u0644\u0623\u0642\u0644."});let e=new l.ZQX;e.data=[],this.selectedBranchs.forEach(s=>{let a=new l.Fiy;a.dateFrom=this.paramObject.DateFrom,a.dateTo=this.paramObject.DateTo,a.textLabel=this.branchs.find(n=>n.id==s).name,a.branchID=s,e.data?.push(a)}),this.service.getAllCompareStatisticsByBranchCharts(e).subscribe({next:s=>{this.handleChartData(s),this.cdRef.detectChanges()},error:s=>{}})}handleChartData(e){this.multiAxisData={labels:[],datasets:[]},this.multiAxisData.labels=[],this.multiAxisData.datasets=[],this.multiAxisData.labels=e.labels,e.dataSets?.forEach(s=>{this.multiAxisData.datasets.push({label:s.docTypeName,backgroundColor:this.ChangeBackGroundColorForBrnachesDetails(),yAxisID:"y",data:s.total,display:!1})})}ChangeBackGroundColorForBrnachesDetails(){let e="#";for(let s=0;s<3;s++)e+=("0"+Math.floor((1+Math.random())*Math.pow(16,2)/2).toString(16)).slice(-2);return e}changeBranch(){}getClass(e){return"Branchs"===e&&this.selectedBranchs&&this.selectedBranchs.length>0?"":"ng-invalid ng-dirty"}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(l.Kje),t.rXU(t.gRc),t.rXU(p.bg))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-branch-compare-Statistics"]],features:[t.Jv_([p.bg])],decls:20,vars:10,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","taj-font"],[1,"row","m-12"],[1,"field","col-md-4"],["translate","Shared.Branch",1,"h3"],["styleClass","taj-font fc-primng","optionLabel","name","optionValue","id",3,"ngModelChange","onChange","options","ngModel"],[1,"field","col-md-2"],[1,"h3"],["inputId","basic","dateFormat","yy-mm-dd","styleClass"," taj-font fc-primng",3,"ngModelChange","ngModel"],[1,"field","col-md-3"],[1,"btn","btn-success","m-8",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"row"],["type","bar",3,"data","options"]],template:function(s,a){1&s&&(t.nrm(0,"p-toast",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"label",4),t.j41(5,"p-multiSelect",5),t.mxI("ngModelChange",function(r){return t.DH7(a.selectedBranchs,r)||(a.selectedBranchs=r),r}),t.bIt("onChange",function(){return a.changeBranch()}),t.k0s()(),t.j41(6,"div",6)(7,"label",7),t.EFF(8," \u0641\u062a\u0631\u0629 \u0645\u0646 "),t.k0s(),t.j41(9,"p-calendar",8),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateFrom,r)||(a.paramObject.DateFrom=r),r}),t.k0s()(),t.j41(10,"div",6)(11,"label",7),t.EFF(12," \u0641\u062a\u0631\u0629 \u0625\u0644\u064a "),t.k0s(),t.j41(13,"p-calendar",8),t.mxI("ngModelChange",function(r){return t.DH7(a.paramObject.DateTo,r)||(a.paramObject.DateTo=r),r}),t.k0s()(),t.j41(14,"div",9)(15,"button",10),t.bIt("click",function(){return a.search()}),t.nrm(16,"i",11),t.EFF(17," \u0628\u062d\u0640\u062b "),t.k0s()()(),t.j41(18,"div",12),t.nrm(19,"p-chart",13),t.k0s()()),2&s&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(5),t.HbH(a.getClass("Branchs")),t.Y8G("options",a.branchs),t.R50("ngModel",a.selectedBranchs),t.R7$(4),t.R50("ngModel",a.paramObject.DateFrom),t.R7$(4),t.R50("ngModel",a.paramObject.DateTo),t.R7$(6),t.Y8G("data",a.multiAxisData)("options",a.multiAxisOptions))},dependencies:[m.BC,m.vS,v.Mm,b.y8,C.X,F.Vv,x.KF]})}return i})(),data:{animation:"BranchCompareStatistics"}},{path:"DoctorStatistics",canActivate:[_._],component:A,data:{animation:"DoctorStatistics"}}];let q=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({imports:[D.iI.forChild(Q),D.iI]})}return i})();var tt=o(9921),et=o(2609),at=o(5114),st=o(4582),it=o(8537);let nt=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({imports:[f.MD,q,tt.G,f.MD,m.YN,st.bG,v.h,b.MB,et.h,at.u,g.k_,C.F,F.rO,x.iV,j.kr,it.$$]})}return i})()}}]);