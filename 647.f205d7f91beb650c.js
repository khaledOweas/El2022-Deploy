"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[647],{7647:(k,h,u)=>{u.r(h),u.d(h,{MainSettingsModule:()=>S});var f=u(6895),v=u(7799),T=u(9345),r=u(5153),d=u(3147),e=u(4650);let A=(()=>{class a{constructor(o){this.service=o}sendWhatsAppMessage(o,t,s){let n=new r.L9;n.messageTo=t,n.imageURl="",n.type=1;let g=new d.lX;switch(this.WhatsAppTemplates=g.GetWhatsAppTemplates(),console.log(this.WhatsAppTemplates),o){case"ReceptionSaved":n.messageBody=this.WhatsAppTemplates.ReceptionSaved;break;case"SamplingDone":n.messageBody=this.WhatsAppTemplates.SamplingDone;break;case"Printed":n.messageBody=this.WhatsAppTemplates.Printed;break;case"Revision":n.messageBody=this.WhatsAppTemplates.Revision;break;case"Reviwed":n.messageBody=this.WhatsAppTemplates.Reviwed;break;case"Deliverd":n.messageBody=this.WhatsAppTemplates.Deliverd}this.service.sendWhatsappMessage(n).subscribe({next:c=>{console.log(c)}})}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(r.KU))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var l=u(4006);const x=[{path:"WhatsAppTemplates",canActivate:[T.o],component:(()=>{class a{constructor(o,t,s){this.cdr=o,this.service=t,this.SWA=s,this.CurrentText="\u0627\u0647\u0644\u0627 \u0648 \u0645\u0631\u062d\u0628\u0627 \u0628\u0643\u0645 \u0641\u064a \u0645\u0639\u0627\u0645\u0644 \u0627\u0644\u0647\u0627\u0645\u064a \u0644\u0627\u0628 \u0644\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0627\u0644\u0637\u0628\u064a\u0629 ",this.Deliverd="",this.Printed="",this.ReceptionSaved="",this.Revision="",this.Reviwed="",this.SamplingDone="",this.PhoneNumber="",this.MessageType=""}ngOnInit(){let o=new d.lX;this.WhatsAppTemplates=o.GetWhatsAppTemplates(),console.log(this.WhatsAppTemplates),this.Deliverd=this.WhatsAppTemplates.Deliverd,this.Printed=this.WhatsAppTemplates.Printed,this.ReceptionSaved=this.WhatsAppTemplates.ReceptionSaved,this.Revision=this.WhatsAppTemplates.Revision,this.Reviwed=this.WhatsAppTemplates.Reviwed,this.SamplingDone=this.WhatsAppTemplates.SamplingDone,this.CurrentTextFunc({},this.ReceptionSaved,"ReceptionSaved");var t=parseInt("1");t>1&&t<=3?document.querySelector(".segmentInfo").className="segmentInfo warn":t>3&&(document.querySelector(".segmentInfo").className="segmentInfo danger"),document.querySelectorAll(".image").forEach(function(i){i.remove()});var n=document.querySelector("#lock .bubble"),g=document.querySelector("#messages");n.addEventListener("click",function(i){n.classList.add("swipe"),g.classList.add("show"),setTimeout(function(){n.classList.remove("swipe")},1e3)}),document.querySelector("#messages .back-button").addEventListener("click",function(i){g.classList.remove("show")});var c=["January","February","March","April","May","June","July","August","September","October","November","December"],w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=document.querySelector(".time"),y=document.querySelector(".date"),Z=document.querySelector(".received"),O=(new Date).getTime();function _(){var i=new Date;P.textContent=(i.getHours()%12||12)+":"+("0"+i.getMinutes()).substr(-2),y.textContent=w[i.getDay()]+", "+c[i.getMonth()]+" "+i.getDate();var m=Math.floor((i.getTime()-O)/1e3/60),C=Math.floor(m/60);Z.textContent=0==m?"now":0===C?m+"m ago":C+"h ago"}_(),setInterval(_,1e3)}SendTestMessage(){this.SWA.sendWhatsAppMessage(this.MessageType,this.PhoneNumber,"\u062e\u0640\u0627\u0644\u062f ")}SaveAllTemplates(){let o=new d.lX;this.WhatsAppTemplates.Deliverd=this.Deliverd,this.WhatsAppTemplates.Printed=this.Printed,this.WhatsAppTemplates.ReceptionSaved=this.ReceptionSaved,this.WhatsAppTemplates.Revision=this.Revision,this.WhatsAppTemplates.Reviwed=this.Reviwed,this.WhatsAppTemplates.SamplingDone=this.SamplingDone,o.SetWhatsAppTemplates(this.WhatsAppTemplates);let t=new r.Vz;t.whatsAppTemplates=o.GetWhatsAppTemplatesString(),this.service.updateWhatsAppTemplates(t).subscribe({next:s=>{console.log(s)}})}CurrentTextFunc(o,t,s){this.CurrentText=t,this.cdr.detectChanges(),this.MessageType=s}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(e.sBO),e.Y36(r.KU),e.Y36(A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-whats-app-settings-templates"]],decls:98,vars:10,consts:[[1,"page-settings"],[1,"mobile"],[1,"container"],["id","lock"],[1,"phone"],[1,"clock"],[1,"time"],[1,"date"],[1,"bubble"],[1,"messages-header"],[1,"received"],[1,"message-row"],[1,"message-wrapper"],[1,"message-from"],[1,"message-body"],["id","messages",1,""],[1,"phone-light"],[1,"back-button"],[1,"message-container"],[1,"image"],["src","https://http.cat/500"],[1,"msg-bubble"],[1,"message"],["width","17","height","20","viewBox","0 0 17 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"tail"],["d","M6 0C6 12.5 7 16.5 0.5 20C10 20 16.5 14 16.5 9.5C16.5 5 7 -3.38256e-06 6 0Z","fill","#E0E0E0"],[1,"segmentInfo"],[1,"comp","row"],[1,""],[1,"d-flex","align-items-center","fs-6","fw-bold","mb-2"],["placeholder","\u0627\u0643\u062a\u0628 \u0646\u0635 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","rows","3","cols","300",1,"form-control",3,"ngModel","ngModelChange","keyup","focus"],[1,"row","m-4"],[1,"col-md-3"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-muted","fw-bold","fs-7"],[1,"d-flex","align-items-center","fs-6","fw-bold","mb-9"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"div")(7,"div",6),e._uU(8," 12:45 "),e.qZA(),e.TgZ(9,"div",7),e._uU(10," Wednesday, January 1 "),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"span"),e._uU(14,"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"),e.qZA(),e.TgZ(15,"span",10),e._uU(16,"\u0627\u0644\u0627\u0646"),e.qZA()(),e.TgZ(17,"div",11)(18,"div",12)(19,"div",13),e._uU(20," \u0625\u0644\u0647\u0627\u0645\u064a \u0644\u0627\u0628 "),e.qZA(),e.TgZ(21,"div",14),e._uU(22),e.qZA()()()()(),e.TgZ(23,"div",15),e._UZ(24,"div",16)(25,"div",17),e.TgZ(26,"div",13),e._uU(27," \u0625\u0644\u0647\u0627\u0645\u064a \u0644\u0627\u0628 "),e.qZA(),e.TgZ(28,"div",18)(29,"div",12)(30,"div",19),e._UZ(31,"img",20),e.qZA(),e.TgZ(32,"div",21)(33,"div",22),e._uU(34),e.qZA()(),e.O4$(),e.TgZ(35,"svg",23),e._UZ(36,"path",24),e.qZA()()()()(),e.kcU(),e.TgZ(37,"div",25),e._uU(38),e._UZ(39,"br"),e._uU(40," \u0639\u062f\u062f \u0627\u0644\u0631\u0633\u0627\u0626\u0644 : "),e.TgZ(41,"strong"),e._uU(42," 1 "),e.qZA()()(),e.TgZ(43,"div",26)(44,"div",27)(45,"label",28)(46,"span"),e._uU(47," \u0628\u0639\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0632\u064a\u0627\u0631\u0629 \u0641\u064a \u0627\u0644\u0627\u0633\u062a\u0642\u0628\u0627\u0644 :"),e.qZA()(),e.TgZ(48,"textarea",29),e.NdJ("ngModelChange",function(n){return t.ReceptionSaved=n})("keyup",function(n){return t.CurrentTextFunc(n,t.ReceptionSaved,"ReceptionSaved")})("focus",function(n){return t.CurrentTextFunc(n,t.ReceptionSaved,"ReceptionSaved")}),e._uU(49,"            "),e.qZA()(),e.TgZ(50,"div",27)(51,"label",28)(52,"span"),e._uU(53,"\u0628\u0639\u062f \u0633\u062d\u0628 \u0627\u0644\u0639\u064a\u0646\u0629 :"),e.qZA()(),e.TgZ(54,"textarea",29),e.NdJ("ngModelChange",function(n){return t.SamplingDone=n})("keyup",function(n){return t.CurrentTextFunc(n,t.SamplingDone,"SamplingDone")})("focus",function(n){return t.CurrentTextFunc(n,t.SamplingDone,"SamplingDone")}),e._uU(55,"            "),e.qZA()(),e.TgZ(56,"div",27)(57,"label",28)(58,"span"),e._uU(59,"\u0628\u0639\u062f \u0627\u0644\u0637\u0628\u0627\u0639\u0629 :"),e.qZA()(),e.TgZ(60,"textarea",29),e.NdJ("ngModelChange",function(n){return t.Printed=n})("keyup",function(n){return t.CurrentTextFunc(n,t.Printed,"Printed")})("focus",function(n){return t.CurrentTextFunc(n,t.Printed,"Printed")}),e._uU(61,"            "),e.qZA()(),e.TgZ(62,"div",27)(63,"label",28)(64,"span"),e._uU(65," \u0628\u0639\u062f \u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 :"),e.qZA()(),e.TgZ(66,"textarea",29),e.NdJ("ngModelChange",function(n){return t.Revision=n})("keyup",function(n){return t.CurrentTextFunc(n,t.Revision,"Revision")})("focus",function(n){return t.CurrentTextFunc(n,t.Revision,"Revision")}),e._uU(67,"            "),e.qZA()(),e.TgZ(68,"div",27)(69,"label",28)(70,"span"),e._uU(71," \u0628\u0639\u062f \u0627\u0644\u062a\u0638\u0631\u064a\u0641 :"),e.qZA()(),e.TgZ(72,"textarea",29),e.NdJ("ngModelChange",function(n){return t.Reviwed=n})("keyup",function(n){return t.CurrentTextFunc(n,t.Reviwed,"Reviwed")})("focus",function(n){return t.CurrentTextFunc(n,t.Reviwed,"Reviwed")}),e._uU(73,"            "),e.qZA()(),e.TgZ(74,"div",27)(75,"label",28)(76,"span"),e._uU(77," \u0628\u0639\u062f \u0627\u0644\u062a\u0633\u0644\u064a\u0645 :"),e.qZA()(),e.TgZ(78,"textarea",29),e.NdJ("ngModelChange",function(n){return t.Deliverd=n})("keyup",function(n){return t.CurrentTextFunc(n,t.Deliverd,"Deliverd")})("focus",function(n){return t.CurrentTextFunc(n,t.Deliverd,"Deliverd")}),e._uU(79,"            "),e.qZA()(),e.TgZ(80,"div",30)(81,"div",31)(82,"label",28)(83,"span"),e._uU(84," \u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u0628\u0627\u064a\u0644 \u0644\u0644\u062a\u062c\u0631\u0628\u0629 :"),e.qZA()(),e.TgZ(85,"input",32),e.NdJ("ngModelChange",function(n){return t.PhoneNumber=n}),e.qZA(),e.TgZ(86,"span",33),e._uU(87," \u064a\u062c\u0628 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0641\u0638 \u0625\u0630\u0627 \u062a\u0645 \u062a\u063a\u064a\u0631 \u0627\u064a \u0642\u0627\u0644\u0628 \u0631\u0633\u0627\u0644\u0629 "),e.qZA()(),e.TgZ(88,"div",31)(89,"label",34),e._UZ(90,"span"),e.qZA(),e.TgZ(91,"button",35),e.NdJ("click",function(){return t.SendTestMessage()}),e._uU(92,"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 "),e.qZA()(),e.TgZ(93,"div",31)(94,"label",34),e._UZ(95,"span"),e.qZA(),e.TgZ(96,"button",35),e.NdJ("click",function(){return t.SaveAllTemplates()}),e._uU(97,"\u062d\u0641\u0638 "),e.qZA()()()()()),2&o&&(e.xp6(22),e.hij(" ",t.CurrentText," "),e.xp6(12),e.hij(" ",t.CurrentText," "),e.xp6(4),e.hij(" \u0639\u062f\u062f \u0627\u0644\u0623\u062d\u0631\u0641 : ",t.CurrentText.length," "),e.xp6(10),e.Q6J("ngModel",t.ReceptionSaved),e.xp6(6),e.Q6J("ngModel",t.SamplingDone),e.xp6(6),e.Q6J("ngModel",t.Printed),e.xp6(6),e.Q6J("ngModel",t.Revision),e.xp6(6),e.Q6J("ngModel",t.Reviwed),e.xp6(6),e.Q6J("ngModel",t.Deliverd),e.xp6(7),e.Q6J("ngModel",t.PhoneNumber))},dependencies:[l.Fj,l.JJ,l.On],styles:[".page-settings[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]{position:relative;margin:auto;width:459px;overflow:scroll;min-height:370px;max-height:800px;z-index:10;overflow:hidden}.container[_ngcontent-%COMP%]:before{z-index:-1;position:absolute;margin:5px;top:0;width:calc(100% - 10px);height:786px;content:\"\";border-radius:57px}.phone[_ngcontent-%COMP%]{position:absolute;z-index:-1;width:400px;height:100%;background:url(iphone.0978fd45da473004.png);background-size:400px;background-repeat:no-repeat}.phone-light[_ngcontent-%COMP%]{position:absolute;z-index:-1;left:0;top:0;width:400px;height:100%;background:url(iphone-light.7e3566f8fba5b7b8.png);background-size:400px;background-repeat:no-repeat}#lock[_ngcontent-%COMP%]{height:0;overflow:visible;z-index:0}#lock[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{height:170px;display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:center;color:#fff;font:100 48px sans-serif}#lock[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:100%;text-align:center}#lock[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:18px}#lock[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{margin:35px;min-height:30px;width:auto;padding:10px 15px 15px 10px;background:rgba(210,210,210,.7);border-radius:14px;min-height:50px;cursor:pointer}#lock[_ngcontent-%COMP%]   .bubble.swipe[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swipe .5s forwards}@keyframes _ngcontent-%COMP%_swipe{0%{transform:translate(0);opacity:1}to{transform:translate(-100%);opacity:0}}#lock[_ngcontent-%COMP%]   .messages-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:22px;padding-left:2px;padding-right:26px;color:#00000080;background-size:22px 22px;background-repeat:no-repeat;background-position:right;background-image:url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='250.001' height='250.001' viewBox='0 0 66.146 66.146'%3E%3Cdefs%3E%3ClinearGradient id='A' x1='-25.885' y1='207.601' x2='-25.885' y2='154.055' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%230cbd2a'/%3E%3Cstop offset='1' stop-color='%235bf675'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg transform='translate(59.483 -145.846)'%3E%3Crect rx='14.568' y='145.846' x='-59.483' height='66.146' width='66.146' fill='url(%23A)' paint-order='markers stroke fill'/%3E%3Cpath d='M-26.4 157.296a24.278 20.222 0 0 0-24.278 20.222 24.278 20.222 0 0 0 11.795 17.316 27.365 20.222 0 0 1-4.245 5.942 23.857 20.222 0 0 0 9.86-3.874 24.278 20.222 0 0 0 6.868.838 24.278 20.222 0 0 0 24.278-20.222 24.278 20.222 0 0 0-24.278-20.222z' fill='%23fff' paint-order='markers stroke fill'/%3E%3C/g%3E%3C/svg%3E\")}#lock[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start}#lock[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{flex-grow:1}#lock[_ngcontent-%COMP%]   .message-from[_ngcontent-%COMP%]{font-weight:bolder;margin-top:5px;line-height:1.8em;color:#000000e6}#lock[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{line-height:1.2em;color:#000000e6;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}#lock[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;margin-bottom:-5px}#messages[_ngcontent-%COMP%]{min-height:330px;z-index:1;position:relative;overflow:visible;padding:0 27px 42px;opacity:0;pointer-events:none;transition:opacity .5s;transition-delay:0s}#messages.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transition-delay:.25s}#messages[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{position:absolute;left:25px;top:45px;width:75px;height:45px;cursor:pointer}#messages[_ngcontent-%COMP%]   .message-from[_ngcontent-%COMP%]{text-align:center;padding-top:50px;line-height:37px;color:#000000b3}#messages[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{display:flex;max-height:651px;min-height:220px;align-items:flex-end;overflow:auto;padding:20px 10px 0;border-radius:0 0 33px 33px}#messages[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{max-width:80%;min-height:35px;background:rgba(210,210,210,.7);border-radius:14px;overflow:hidden;line-height:0;margin-top:2px}#messages[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:cover}#messages[_ngcontent-%COMP%]   .msg-bubble[_ngcontent-%COMP%]{position:relative;margin-top:2px;max-width:80%;background:#e0e0e0;border-radius:14px;overflow:hidden}#messages[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{position:relative;top:-14px;left:-6px}#messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:10px}.segmentInfo[_ngcontent-%COMP%]{position:relative;width:400px;margin:20px auto auto;text-align:center;padding:8px 0;background:rgba(20,172,228,.15);color:#14ace4;border-radius:5px}.segmentInfo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 0 -4px 12px;color:#14ace4}.segmentInfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;line-height:35px;right:10px}.warn[_ngcontent-%COMP%]{background:rgba(249,151,45,.15);color:#f9972d}.warn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#f9972d}.danger[_ngcontent-%COMP%]{background:rgba(255,49,102,.15);color:#f8564e}.danger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#f8564e}"]}),a})()}];let M=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[v.Bz.forChild(x),v.Bz]}),a})(),S=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[f.ez,l.u5,M]}),a})()}}]);