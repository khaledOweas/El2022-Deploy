"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[870],{6870:(J,u,a)=>{a.r(u),a.d(u,{ResultsReportsModule:()=>K});var p=a(177),f=a(660),c=a(5487),e=a(4438),m=a(8742),C=a(6272);const h=["container"];let R=(()=>{class i{constructor(t,o){this.service=t,this.cdr=o}ngOnInit(){}ngAfterViewInit(){this.createDynamicComponent()}createDynamicComponent(){this.container&&this.service.getTestReport().subscribe({next:t=>{this.dynamicComponentRef=this.container.createComponent(T),this.dynamicComponentRef.instance.htmlContent=this.replacePlaceholders(t.hTML,this.data[0]),this.dynamicComponentRef.instance.cssContent=t.cSS;const o=document.createElement("style");o.textContent=t.cSS,document.head.appendChild(o),this.cdr.detectChanges()}})}replacePlaceholders(t,o){return(t=(t=(t=t.replace(/#Title1#/g,o.r1Title)).replace(/#Title2#/g,o.r2Title)).replace(/#Res1#/g,o.r1)).replace(/#Res2#/g,o.r2)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(c.Kje),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-dynamic"]],viewQuery:function(o,n){if(1&o&&e.GBs(h,5,e.c1b),2&o){let s;e.mGM(s=e.lsd())&&(n.container=s.first)}},inputs:{data:"data"},decls:2,vars:0,consts:[["container",""]],template:function(o,n){1&o&&e.nrm(0,"div",null,0)},encapsulation:2})}return i})(),T=(()=>{class i{constructor(){this.htmlContent="",this.cssContent=""}ngOnInit(){this.htmlContent.replace("0","12")}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-small"]],inputs:{htmlContent:"htmlContent",cssContent:"cssContent"},decls:1,vars:1,consts:[[2,"direction","ltr",3,"innerHTML"]],template:function(o,n){1&o&&e.nrm(0,"div",0),2&o&&e.Y8G("innerHTML",n.htmlContent,e.npT)},encapsulation:2})}return i})(),P=(()=>{class i{constructor(){this.PatientName="",this.Date="",this.DoctorName="",this.PatietCode=""}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-ReportHeader"]],inputs:{PatientName:"PatientName",Date:"Date",DoctorName:"DoctorName",PatietCode:"PatietCode"},decls:24,vars:4,consts:[[1,"page-header"],[1,"header-value-l"],[2,"text-align","right"],[1,"header-value-r"]],template:function(o,n){1&o&&(e.j41(0,"table",0)(1,"tr")(2,"td"),e.EFF(3,"Date:"),e.k0s(),e.j41(4,"td")(5,"span",1),e.EFF(6),e.k0s()(),e.j41(7,"td"),e.EFF(8,"Patient Name:"),e.k0s(),e.j41(9,"td",2)(10,"span",3),e.EFF(11),e.k0s()()(),e.j41(12,"tr")(13,"td"),e.EFF(14,"Code Number:"),e.k0s(),e.j41(15,"td")(16,"span",1),e.EFF(17),e.k0s()(),e.j41(18,"td"),e.EFF(19,"Ref. By Prof. DR:"),e.k0s(),e.j41(20,"td",2)(21,"span",3),e.EFF(22),e.k0s()()()(),e.nrm(23,"hr")),2&o&&(e.R7$(6),e.JRh(n.Date),e.R7$(5),e.JRh(n.PatientName),e.R7$(6),e.JRh(n.PatietCode),e.R7$(5),e.JRh(n.DoctorName))},styles:[".page-header[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;direction:ltr}.page-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}.page-header[_ngcontent-%COMP%]   .header-value-l[_ngcontent-%COMP%]{font-weight:700}.page-header[_ngcontent-%COMP%]   .header-value-r[_ngcontent-%COMP%]{font-weight:700;text-align:right}*[_ngcontent-%COMP%]{font-size:18px;font-weight:700;font-family:Times New Roman,Times,serif}"]})}return i})(),F=(()=>{class i{constructor(){this.TitleChange=new e.bkB}ngOnInit(){}changeTitle(){this.TitleChange.emit(this.Title)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-ReportTitle"]],inputs:{Title:"Title"},outputs:{TitleChange:"TitleChange"},decls:2,vars:1,consts:[[1,"title"]],template:function(o,n){1&o&&(e.j41(0,"p",0),e.EFF(1),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",n.Title,"\n"))},styles:[".title[_ngcontent-%COMP%]{text-align:center;font-size:x-large;text-decoration:underline;padding:38px}"]})}return i})();var l=a(9417);function v(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",11)(2,"div",12)(3,"label",13),e.EFF(4),e.k0s(),e.j41(5,"input",14),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r1,n)||(s.ReportPagesConfig[0].results[0].r1=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",12)(7,"label",13),e.EFF(8),e.k0s(),e.j41(9,"input",14),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r2,n)||(s.ReportPagesConfig[0].results[0].r2=n),e.Njj(n)}),e.k0s()(),e.j41(10,"div",12)(11,"label",13),e.EFF(12),e.k0s(),e.j41(13,"input",14),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r3,n)||(s.ReportPagesConfig[0].results[0].r3=n),e.Njj(n)}),e.k0s()()(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(4),e.JRh(t.ReportPagesConfig[0].results[0].r1Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r1),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r2Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r2),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r3Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r3)}}function x(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",12)(1,"label",16),e.EFF(2),e.k0s(),e.j41(3,"input",17),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.r1,n)||(s.r1=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.r1Title),e.R7$(),e.R50("ngModel",t.r1)}}function k(i,r){if(1&i&&(e.qex(0),e.DNE(1,x,4,2,"div",15),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.ReportPagesConfig[0].results)}}function M(i,r){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.ReportPagesConfig[0].isConfirmedTwice,n)||(s.ReportPagesConfig[0].isConfirmedTwice=n),e.Njj(n)}),e.k0s(),e.j41(5,"label",6)(6,"div",7),e.EFF(7," Confirmed Twice"),e.k0s()()(),e.j41(8,"div",8)(9,"input",9),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.ReportPagesConfig[0].outSampling,n)||(s.ReportPagesConfig[0].outSampling=n),e.Njj(n)}),e.k0s(),e.j41(10,"label",10)(11,"div",7),e.EFF(12," Sampling Outside "),e.k0s()()()()(),e.DNE(13,v,14,6,"ng-container",1)(14,k,2,1,"ng-container",1),e.k0s()}if(2&i){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.ReportPagesConfig[0].isConfirmedTwice),e.R7$(5),e.R50("ngModel",t.ReportPagesConfig[0].outSampling),e.R7$(4),e.Y8G("ngIf",528==t.ReportPagesConfig[0].results[0].testCode),e.R7$(),e.Y8G("ngIf",528!=t.ReportPagesConfig[0].results[0].testCode)}}let b=(()=>{class i{constructor(){this.show=!1}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-kftinput"]],inputs:{ReportPagesConfig:"ReportPagesConfig"},decls:5,vars:2,consts:[[1,"test-input-title",3,"click"],[4,"ngIf"],[1,"mb-2"],[1,"d-flex","flex-column","row"],[1,"form-check","form-check-custom","form-check-solid","my-1"],["name","checkbox_input","type","checkbox","value","1","id","kt_docs_formvalidation_checkbox_option_1",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],["for","kt_docs_formvalidation_checkbox_option_1",1,"form-check-label"],[1,"fw-semibold","text-gray-800"],[1,"form-check","form-check-custom","form-check-solid","mb-1"],["name","checkbox_input","type","checkbox","value","2","id","kt_docs_formvalidation_checkbox_option_2",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],["for","kt_docs_formvalidation_checkbox_option_2",1,"form-check-label"],[1,"fv-row-container"],[1,"fv-row"],[1,"fw-semibold","fs-6"],["type","text","placeholder","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["class","fv-row ",4,"ngFor","ngForOf"],[1,"fw-semibold","fs-6","mb-2"],["type","text","placeholder","",1,"form-control","form-control-sm","mb-3","mb-lg-0",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"tr")(1,"span",0),e.bIt("click",function(){return n.show=!n.show}),e.EFF(2),e.k0s(),e.DNE(3,M,15,4,"div",1),e.k0s(),e.nrm(4,"br")),2&o&&(e.R7$(2),e.SpI(" ",n.ReportPagesConfig[0].reportTitle," "),e.R7$(),e.Y8G("ngIf",n.show))},dependencies:[p.Sq,p.bT,l.me,l.Zm,l.BC,l.vS],styles:[".fv-row[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;margin-bottom:10px}.fv-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.fv-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}"]})}return i})();function j(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"div",10)(2,"div",11)(3,"label",12),e.EFF(4),e.k0s(),e.j41(5,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r3,n)||(s.ReportPagesConfig[0].results[0].r3=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateR5Value())}),e.k0s()(),e.j41(6,"div",11)(7,"label",12),e.EFF(8),e.k0s(),e.j41(9,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r4,n)||(s.ReportPagesConfig[0].results[0].r4=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateR5Value())}),e.k0s()()(),e.j41(10,"div",10)(11,"div",11)(12,"label",12),e.EFF(13),e.k0s(),e.j41(14,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r7,n)||(s.ReportPagesConfig[0].results[0].r7=n),e.Njj(n)}),e.k0s()(),e.j41(15,"div",11)(16,"label",12),e.EFF(17),e.k0s(),e.j41(18,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r8,n)||(s.ReportPagesConfig[0].results[0].r8=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateR10Value())}),e.k0s()(),e.j41(19,"div",11)(20,"label",12),e.EFF(21),e.k0s(),e.j41(22,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r9,n)||(s.ReportPagesConfig[0].results[0].r9=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateR10Value())}),e.k0s()()(),e.j41(23,"div",10)(24,"div",11)(25,"label",12),e.EFF(26),e.k0s(),e.j41(27,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r1,n)||(s.ReportPagesConfig[0].results[0].r1=n),e.Njj(n)}),e.k0s()(),e.j41(28,"div",11)(29,"label",12),e.EFF(30),e.k0s(),e.j41(31,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r2,n)||(s.ReportPagesConfig[0].results[0].r2=n),e.Njj(n)}),e.k0s()(),e.j41(32,"div",11)(33,"label",12),e.EFF(34),e.k0s(),e.j41(35,"input",13),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.ReportPagesConfig[0].results[0].r6,n)||(s.ReportPagesConfig[0].results[0].r6=n),e.Njj(n)}),e.k0s()()(),e.bVm()}if(2&i){const t=e.XpG(2);e.R7$(4),e.JRh(t.ReportPagesConfig[0].results[0].r3Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r3),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r4Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r4),e.R7$(4),e.JRh(t.ReportPagesConfig[0].results[0].r7Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r7),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r8Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r8),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r9Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r9),e.R7$(4),e.JRh(t.ReportPagesConfig[0].results[0].r1Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r1),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r2Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r2),e.R7$(3),e.JRh(t.ReportPagesConfig[0].results[0].r6Title),e.R7$(),e.R50("ngModel",t.ReportPagesConfig[0].results[0].r6)}}function I(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"label",15),e.EFF(2),e.k0s(),e.j41(3,"input",16),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.r1,n)||(s.r1=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.r1Title),e.R7$(),e.R50("ngModel",t.r1)}}function w(i,r){if(1&i&&(e.qex(0),e.DNE(1,I,4,2,"div",14),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.ReportPagesConfig[0].results)}}function y(i,r){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.ReportPagesConfig[0].isConfirmedTwice,n)||(s.ReportPagesConfig[0].isConfirmedTwice=n),e.Njj(n)}),e.k0s(),e.j41(5,"label",6)(6,"div",7),e.EFF(7," Confirmed Twice"),e.k0s()()(),e.j41(8,"div",4)(9,"input",8),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.ReportPagesConfig[0].outSampling,n)||(s.ReportPagesConfig[0].outSampling=n),e.Njj(n)}),e.k0s(),e.j41(10,"label",9)(11,"div",7),e.EFF(12," Sampling Outside "),e.k0s()()()()(),e.DNE(13,j,36,16,"ng-container",1)(14,w,2,1,"ng-container",1),e.k0s()}if(2&i){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.ReportPagesConfig[0].isConfirmedTwice),e.R7$(5),e.R50("ngModel",t.ReportPagesConfig[0].outSampling),e.R7$(4),e.Y8G("ngIf",509==t.ReportPagesConfig[0].results[0].testCode),e.R7$(),e.Y8G("ngIf",509!=t.ReportPagesConfig[0].results[0].testCode)}}let D=(()=>{class i{constructor(){this.show=!1}ngOnInit(){console.log(this.ReportPagesConfig)}updateR5Value(){this.ReportPagesConfig[0].results[0].r5=(this.ReportPagesConfig[0].results[0].r3||0)-(this.ReportPagesConfig[0].results[0].r4||0)}updateR10Value(){this.ReportPagesConfig[0].results[0].r10=parseFloat(((this.ReportPagesConfig[0].results[0].r8||0)/(this.ReportPagesConfig[0].results[0].r9||0)).toFixed(1))}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-LFTInput"]],inputs:{ReportPagesConfig:"ReportPagesConfig"},decls:4,vars:2,consts:[[1,"test-input-title",3,"click"],[4,"ngIf"],[1,"mb-2"],[1,"d-flex","flex-column","row"],[1,"form-check","form-check-custom","form-check-solid","mb-1"],["name","checkbox_input","type","checkbox","value","1","id","kt_docs_formvalidation_checkbox_option_1_LFT",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],["for","kt_docs_formvalidation_checkbox_option_1_LFT",1,"form-check-label"],[1,"fw-semibold","text-gray-800"],["name","checkbox_input","type","checkbox","value","2","id","kt_docs_formvalidation_checkbox_option_2_LFT",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],["for","kt_docs_formvalidation_checkbox_option_2_LFT",1,"form-check-label"],[1,"fv-row-container"],[1,"fv-row"],[1,"fw-semibold","fs-6"],["type","text","placeholder","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["class","fv-row",4,"ngFor","ngForOf"],[1,"fw-semibold","fs-6","mb-2"],["type","text","placeholder","",1,"form-control","form-control-sm","mb-3","mb-lg-0",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"tr")(1,"span",0),e.bIt("click",function(){return n.show=!n.show}),e.EFF(2),e.k0s(),e.DNE(3,y,15,4,"div",1),e.k0s()),2&o&&(e.R7$(2),e.SpI(" ",n.ReportPagesConfig[0].reportTitle," "),e.R7$(),e.Y8G("ngIf",n.show))},dependencies:[p.Sq,p.bT,l.me,l.Zm,l.BC,l.vS],styles:[".fv-row[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;margin-bottom:10px}.fv-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px}.fv-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}"]})}return i})();function G(i,r){if(1&i&&e.nrm(0,"app-kftinput",6),2&i){const t=e.XpG(3);e.Y8G("ReportPagesConfig",t.filteredConfigData("kft"))}}function N(i,r){if(1&i&&e.nrm(0,"app-LFTInput",6),2&i){const t=e.XpG(3);e.Y8G("ReportPagesConfig",t.filteredConfigData("lft"))}}function E(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,G,1,1,"app-kftinput",5),e.nrm(2,"hr"),e.DNE(3,N,1,1,"app-LFTInput",5),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","kft"==t.name),e.R7$(2),e.Y8G("ngIf","lft"==t.name)}}function V(i,r){if(1&i&&(e.j41(0,"tr"),e.DNE(1,E,4,2,"div",4),e.k0s()),2&i){const t=r.$implicit,o=e.XpG();e.R7$(),e.Y8G("ngIf",o.shouldRender(t))}}function O(i,r){1&i&&(e.j41(0,"p",17),e.EFF(1,"Confirmed Twice"),e.k0s())}function X(i,r){1&i&&(e.j41(0,"p",18),e.EFF(1,"The Sampling Outside The Lab"),e.k0s())}function L(i,r){1&i&&(e.j41(0,"p",19),e.EFF(1,"\u0627\u0644\u0639\u064a\u0646\u0629 \u0645\u0646 \u062e\u0627\u0631\u062c \u0627\u0644\u0645\u0639\u0645\u0644 \u0639\u0644\u0649 \u0645\u0633\u0626\u0648\u0644\u064a\u0629 \u0627\u0644\u0645\u0631\u064a\u0636"),e.k0s())}function B(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"div",9),e.nrm(2,"app-ReportHeader",10),e.j41(3,"app-ReportTitle",11),e.mxI("TitleChange",function(n){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.reportTitle,n)||(s.reportTitle=n),e.Njj(n)}),e.k0s(),e.j41(4,"div",12),e.nrm(5,"app-dynamic",13)(6,"br")(7,"br"),e.j41(8,"div"),e.DNE(9,O,2,0,"p",14),e.nrm(10,"br"),e.DNE(11,X,2,0,"p",15)(12,L,2,0,"p",16),e.k0s()()()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG();e.R7$(2),e.Y8G("DoctorName",o.header_doc)("PatientName",o.header_name)("PatietCode",o.header_code)("Date",o.header_date),e.R7$(),e.R50("Title",t.reportTitle),e.R7$(2),e.Y8G("data",o.filteredData(t.testCodes)),e.R7$(4),e.Y8G("ngIf",t.isConfirmedTwice),e.R7$(2),e.Y8G("ngIf",t.outSampling),e.R7$(),e.Y8G("ngIf",t.outSampling)}}function S(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,B,13,9,"div",7),e.k0s()),2&i){const t=r.$implicit,o=e.XpG();e.R7$(),e.Y8G("ngIf",o.shouldRender(t))}}let $=(()=>{class i{constructor(t,o,n){this.service=t,this.cdRef=o,this.route=n,this.header_name="",this.header_date="",this.header_doc="",this.header_code="",this.data=[],this.ReportPagesConfig=[{id:1,name:"kft",reportTitle:"Kidny Function Tests",testCodes:[528,305,306,307],results:[],isConfirmedTwice:!1,outSampling:!1},{id:2,name:"lft",reportTitle:"Liver Function Tests",testCodes:[509,228,321,322,323,324,325,328],results:[],isConfirmedTwice:!1,outSampling:!1}],this.pages=[{title:"Page 1",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{title:"Page 2",content:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},{title:"Page 3",content:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{title:"Page 4",content:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.VisitId=t.visitId,this.Dayserial=Number(t.daySerial);let o=new c.j2r;o.testCode=0,o.visitId=this.VisitId,this.service.getReportResult(o).subscribe({next:n=>{console.log(n),this.data=n;for(let s=0;s<n.length;s++){const g=n[s];for(let d=0;d<this.ReportPagesConfig.length;d++){const _=this.ReportPagesConfig[d];if(_.testCodes.includes(g.testCode)){_.reportTitle=g.reportTitle,_.results.push(g);break}}}this.header_name=n[0].custname,this.header_date=n[0].visitDateC,this.header_doc=n[0].doctorName,this.header_code=n[0].ename,this.cdRef.detectChanges()},error:()=>{}})})}groupByReportName(t){const o=new Map;return t.forEach(n=>{const s=n.reportName||"Unknown";o.has(s)?o.get(s).push(n):o.set(s,[n])}),o}shouldRender(t){return this.data.some(o=>t.testCodes.includes(o.testCode))}filteredData(t){return this.data.filter(o=>t.includes(o.testCode))}filteredConfigData(t){return this.ReportPagesConfig.filter(n=>n.name==t)}printPage(){window.print()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(c.Kje),e.rXU(e.gRc),e.rXU(m.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-ResultsReports"]],features:[e.Jv_([f.o3])],decls:8,vars:4,consts:[[1,"data"],[3,"daySerial","visitId"],[1,"btn","btn-sm","btn-success","m-4",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ReportPagesConfig",4,"ngIf"],[3,"ReportPagesConfig"],["class","page printable-content",4,"ngIf"],[1,"page","printable-content"],[1,"content"],[3,"DoctorName","PatientName","PatietCode","Date"],[3,"TitleChange","Title"],[1,""],[3,"data"],["class","comment1",4,"ngIf"],["class","comment2",4,"ngIf"],["class","comment3",4,"ngIf"],[1,"comment1"],[1,"comment2"],[1,"comment3"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div"),e.nrm(2,"app-day-serial",1),e.j41(3,"button",2),e.bIt("click",function(){return n.printPage()}),e.EFF(4,"\u0637\u0628\u0627\u0639\u0629 "),e.k0s(),e.j41(5,"table"),e.DNE(6,V,2,1,"tr",3),e.k0s()()(),e.DNE(7,S,2,1,"div",3)),2&o&&(e.R7$(2),e.Y8G("daySerial",n.Dayserial)("visitId",n.VisitId),e.R7$(4),e.Y8G("ngForOf",n.ReportPagesConfig),e.R7$(),e.Y8G("ngForOf",n.ReportPagesConfig))},dependencies:[p.Sq,p.bT,C.K,R,P,F,b,D],styles:[".page[_ngcontent-%COMP%]{width:210mm;margin:20px auto;box-sizing:border-box;border:1px solid #ccc;background-color:#f46d6d;page-break-before:always}.content[_ngcontent-%COMP%]{background-color:#a6fcae;padding:3.2mm 1.1cm 1cm 2.1cm}@media print{.page[_ngcontent-%COMP%]{width:210mm;margin-left:3px;margin-right:-10px;border:none;box-shadow:none}.content[_ngcontent-%COMP%]{background-color:#a6fcae;padding:3.2mm 1.1cm 1cm 2.1cm}}.data[_ngcontent-%COMP%]{width:70mm;height:80vh;margin-right:10px;border:1px green solid;position:fixed;direction:ltr;padding:12px;overflow-y:auto;background-color:#b4caf3;border-radius:20px}.comment1[_ngcontent-%COMP%]{font-size:30px;text-align:center;font-family:Times New Roman,Times,serif;font-style:italic;font-weight:700;text-decoration:underline}.comment2[_ngcontent-%COMP%], .comment3[_ngcontent-%COMP%]{margin:0;padding:0;font-size:20px;font-style:italic;font-family:Times New Roman,Times,serif;text-align:left;text-decoration:underline;font-weight:700}"]})}return i})();var H=a(1403);const Y=[{path:"",redirectTo:"ResultsReports",pathMatch:"full"},{path:"ResultsReports",component:$,data:{animation:"ResultsReports"}}];let K=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[p.MD,l.YN,m.iI.forChild(Y),H.G]})}return i})()}}]);