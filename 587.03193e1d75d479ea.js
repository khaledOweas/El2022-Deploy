"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[587],{1587:(G,c,r)=>{r.r(c),r.d(c,{ReportsModule:()=>$});var u=r(177),d=r(8742),v=r(7306),D=r(5779),F=r(660),f=r(9501),i=r(5487),a=r(9949),g=r(9611),t=r(4438),S=r(1626);let h=(()=>{class s{constructor(o){this._httpClient=o}downloadFile(o){return this._httpClient.post((localStorage.getItem("apiUrl")||"")+"/Reports/ExportDeelReportToExcelSheet",o,{observe:"response",responseType:"blob"})}saveFile(o){this.downloadFile(o).subscribe(e=>{let n=document.createElement("a");n.href=window.URL.createObjectURL(e.body),n.setAttribute("download","DeelReport"),document.body.appendChild(n),n.click(),n.remove()})}static#e=this.\u0275fac=function(e){return new(e||s)(t.KVO(S.Qq))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var R=r(3612),w=r(7427),p=r(9998);const C=[{path:"",redirectTo:"DeelReport",pathMatch:"full"},{path:"DeelReport",canActivate:[v._],component:(()=>{class s extends g.${constructor(o,e){super(o),this.injector=o,this.reportserviceService=e,this.contentFirstBtnForFirstButton='<i class="pi pi-book text-white"></i>',this.classForFirstButtonForFirstButton=" bg-info text-white",this.contentSecondBtnForFirstButton='<i class="pi pi-print text-white"></i>',this.classForSecondButtonForSecondButton=" bg-success text-white",this.currentParameterSearch=new i.y9G,this.Cols=f.S8}Search(o){let e=new i.y9G;e.deelId=o.SelectedDeel.id,e.dateFrom=o.DateFrom,e.dateTo=o.DateTo,this.currentParameterSearch=e,this.service.getDeelReport(e).subscribe({next:n=>{this.Data=n,this.cts.sendToster("success","\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0639\u0646 \u062a\u0639\u0627\u0642\u062f\u0627\u062a","\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0628\u0646\u062c\u0627\u062d",` \u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0639\u0646 \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a \u0645\u0646 \u0641\u062a\u0631\u0629 ${a._.Formate(e.dateFrom)} \u0625\u0644\u064a \u0641\u062a\u0631\u0629 ${a._.Formate(e.dateTo)} \u0644\u0644\u062a\u0639\u0627\u0642\u062f / ${o.SelectedDeel.name}  `),this.cdRef.detectChanges()},error:n=>{}})}DownloadFile(o){let e=new i.y9G;e.deelId=o.SelectedDeel.id,e.dateFrom=o.DateFrom,e.dateTo=o.DateTo,this.cts.sendToster("success","\u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0644\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a","\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0628\u0646\u062c\u0627\u062d",` \u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0644\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a ${a._.Formate(e.dateFrom)} \u0625\u0644\u064a \u0641\u062a\u0631\u0629 ${a._.Formate(e.dateTo)} \u0644\u0644\u062a\u0639\u0627\u0642\u062f / ${o.SelectedDeel.name}  `),this.reportserviceService.saveFile(e)}DownloadExcel(){this.service.exportDeelReportTask(this.currentParameterSearch).subscribe({next:o=>{this.downloadFromFileDto(o)}})}static#e=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.zZn),t.rXU(h))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-deel-report"]],features:[t.Jv_([D.bg,F.o3]),t.Vt3],decls:10,vars:12,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","card-flush","shadow-sm"],[1,"card-header"],["translate","MENU.Revision",1,"card-title"],[1,"card-toolbar"],[1,"card-body","py-5"],[3,"onDownloadExcelFile","onSearchSubmit","rangeDates","WithBranch","WithSinglDeel","WithDownloadExcel"],[1,"row"],[3,"downloadExcelEvent","cols","rowsPageNumbers","data","chooseColomns","pagination","scrollable","downloadExcel"]],template:function(e,n){1&e&&(t.nrm(0,"p-toast",0),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"h3",3)(4,"div",4),t.k0s(),t.j41(5,"div",5)(6,"app-searchcriteria",6),t.bIt("onDownloadExcelFile",function(l){return n.DownloadFile(l)})("onSearchSubmit",function(l){return n.Search(l)}),t.k0s(),t.nrm(7,"br"),t.j41(8,"div",7)(9,"app-shared-datatable",8),t.bIt("downloadExcelEvent",function(){return n.DownloadExcel()}),t.k0s()()()()),2&e&&(t.Y8G("showTransformOptions","translateX(100%)"),t.R7$(6),t.Y8G("rangeDates",n.rangeDates)("WithBranch",!1)("WithSinglDeel",!0)("WithDownloadExcel",!0),t.R7$(3),t.Y8G("cols",n.Cols)("rowsPageNumbers",25)("data",n.Data)("chooseColomns",!0)("pagination",!0)("scrollable",!1)("downloadExcel",!0))},dependencies:[R.N,w.h,p.y8]})}return s})(),data:{animation:"DeelReport"}}];let T=(()=>{class s{static#e=this.\u0275fac=function(e){return new(e||s)};static#t=this.\u0275mod=t.$C({type:s});static#o=this.\u0275inj=t.G2t({imports:[d.iI.forChild(C),d.iI]})}return s})();var y=r(9921),b=r(9417),x=r(5769),B=r(2609),I=r(5114);let $=(()=>{class s{static#e=this.\u0275fac=function(e){return new(e||s)};static#t=this.\u0275mod=t.$C({type:s});static#o=this.\u0275inj=t.G2t({providers:[h],imports:[u.MD,y.G,T,b.YN,p.MB,x.kr,B.h,I.u]})}return s})()}}]);